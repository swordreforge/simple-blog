<!DOCTYPE html><html lang="zh-CN"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,viewport-fit=cover"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)"><meta name="description" content="RustBlog å‹é“¾é¡µé¢ - ä¸å¿—åŒé“åˆçš„æœ‹å‹å»ºç«‹è¿æ¥"><title>{{ title }}</title><link rel="stylesheet" href="/css/modal-animations.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/keyboard-shortcuts.css" media="print" onload='this.media="all"'><style>*{margin:0;padding:0;box-sizing:border-box}body,html{height:100%;width:100%;overflow-x:hidden}body{display:flex;flex-direction:column;min-height:100vh;min-height:-webkit-fill-available;padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);position:relative;background-image:url('{{ settings.background_image | safe }}');background-size: {{ settings.background_size }};background-position: {{ settings.background_position }};background-repeat: {{ settings.background_repeat }};background-attachment: {{ settings.background_attachment }};background-blend-mode:overlay;--global-opacity: {{ settings.global_opacity }}}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.3);backdrop-filter:blur(5px);z-index:-1}nav{display:flex;justify-content:flex-end;align-items:center;position:fixed;top:env(safe-area-inset-top);right:0;padding:15px env(safe-area-inset-right) 15px env(safe-area-inset-left);width:100%;background:var(--navbar-glass-color,rgba(255,255,255,.85));backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);border-bottom:1px solid rgba(255,255,255,.1);z-index:100;box-shadow:0 8px 32px 0 rgba(31,38,135,.15);transition:transform .4s cubic-bezier(.25, .46, .45, .94),opacity .4s ease;transform:translateY(0);opacity:1}nav.hidden{transform:translateY(-100%);opacity:0}nav a{color:var(--navbar-text-color,rgba(255,255,255,.9));text-decoration:none;margin:0 15px;font-weight:500;transition:all .3s ease;position:relative;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);text-shadow:0 2px 4px rgba(0,0,0,.1)}nav button{color:var(--navbar-text-color,rgba(255,255,255,.9));text-decoration:none;margin:0 15px;font-weight:500;transition:all .3s ease;position:relative;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);cursor:pointer}nav a:hover{color:#fff;background:rgba(0,0,0,0);transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2)}nav a::after{display:none}nav a.current{color:#fff;background:rgba(255,255,255,.3);box-shadow:0 4px 12px rgba(0,0,0,.15)}#loginBtn,#userCenterToggle{display:flex;align-items:center;gap:8px;color:rgba(255,255,255,.9);text-decoration:none;margin-left:env(safe-area-inset-left);margin-right:15px;font-weight:500;transition:all .3s ease;position:relative;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);text-shadow:0 2px 4px rgba(0,0,0,.1)}#loginBtn:hover,#userCenterToggle:hover{color:#fff;background:rgba(0,0,0,0);transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2)}.container{max-width:1400px;margin:0 auto;padding:120px 40px 60px;width:100%}.page-header{text-align:center;margin-bottom:50px}.page-title{font-size:3em;color:rgba(255,255,255,.95);margin-bottom:15px;text-shadow:0 2px 10px rgba(0,0,0,.2);font-weight:700}.page-subtitle{font-size:1.3em;color:rgba(255,255,255,.8)}.friends-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:25px;width:100%}.friend-card{background:rgba(0,0,0,0);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,.3);padding:30px 35px;border-radius:20px;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;text-align:center;gap:20px}.friend-card:hover{transform:translateY(-8px);box-shadow:0 10px 30px rgba(0,0,0,.2)}.friend-avatar{width:80px;height:80px;border-radius:50%;background:rgba(0,0,0,0);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,.3);object-fit:cover;flex-shrink:0;transition:transform .3s ease}.friend-card:hover .friend-avatar{transform:scale(1.1)}.friend-info{flex:1}.friend-name{font-size:1.8em;color:rgba(255,255,255,.9);margin-bottom:10px;font-weight:600}.friend-motto{color:rgba(255,255,255,.8);font-size:1.1em;margin-bottom:15px;line-height:1.6}.friend-link{display:inline-flex;align-items:center;gap:8px;padding:10px 24px;background:rgba(255,255,255,.15);color:rgba(255,255,255,.9);text-decoration:none;border-radius:30px;font-size:.95em;transition:all .3s ease;border:1px solid rgba(255,255,255,.25)}.friend-link:hover{background:rgba(255,255,255,.25);transform:translateY(-2px);box-shadow:0 6px 16px rgba(0,0,0,.2)}.loading{text-align:center;padding:100px 20px;color:rgba(255,255,255,.85);font-size:1.3em}.empty-state{text-align:center;padding:120px 20px;color:rgba(255,255,255,.85)}.empty-state svg{width:100px;height:100px;margin-bottom:25px;opacity:.5}.empty-state p{font-size:1.5em;margin-bottom:10px;color:rgba(255,255,255,.95)}.empty-state small{font-size:1.1em;opacity:.65}@media (max-width:768px){nav{padding:10px env(safe-area-inset-right) 10px env(safe-area-inset-left)}#loginBtn,#userCenterToggle,nav a,nav button{font-size:0;margin:0 4px;padding:10px;min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%}#loginBtn span:not(:has(svg)),#userCenterToggle span:not(:has(svg)),nav a span:not(.shortcut-hint),nav button span:not(.shortcut-hint){display:none}.shortcuts-help-btn{display:none!important}.shortcut-hint{display:none!important}#loginBtn svg,#userCenterToggle svg,nav a svg,nav button svg{display:block;font-size:initial}nav a[href="/"]::before{content:'ğŸ ';font-size:18px}nav a[href="/passage"]::before{content:'ğŸ“';font-size:18px}nav a[href="/collect"]::before{content:'ğŸ“';font-size:18px}nav a[href="/about"]::before{content:'â„¹ï¸';font-size:18px}nav a[href="/friends"]::before{content:'ğŸ”—';font-size:18px}nav a[href="/markdown-editor"]::before{content:'âœï¸';font-size:18px}nav a[href="/admin"]::before{content:'âš™ï¸';font-size:18px}#userCenterToggle::before{content:'ğŸ‘¤';font-size:18px}#loginBtn svg{width:20px;height:20px}.container{padding:100px 20px 40px}.friends-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.friend-card{padding:25px 30px;gap:18px}.friend-avatar{width:70px;height:70px}.friend-name{font-size:1.5em}.friend-motto{font-size:1em}.page-title{font-size:2.2em}.page-subtitle{font-size:1.1em}}</style><nav id="navbar"><a href="/">é¦–é¡µ</a> <a href="/passage">æ–‡ç« </a> <a href="/collect">å½’æ¡£</a> <a href="/about">å…³äº</a> {% if is_logged_in %} <button id="userCenterToggle" onclick="openUserCenter()"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span>{{ username }}</span></button> {% else %} <a href="#" id="loginBtn" onclick="openLoginModal()"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg> ç™»å½• </a> {% endif %} </nav><div class="container"><div class="page-header"><h1 class="page-title">å‹é“¾</h1><p class="page-subtitle">ä¸å¿—åŒé“åˆçš„æœ‹å‹å»ºç«‹è¿æ¥</div><div id="friendLinksContainer"><div class="loading">åŠ è½½ä¸­...</div></div></div><div class="modal" id="loginModal"><div class="modal-content" style="max-width:400px"><div class="modal-header"><h3>ç™»å½•</h3><button class="modal-close" onclick="closeLoginModal()">&times;</button></div><div class="modal-body"><form id="loginForm"><div class="form-group"><label>ç”¨æˆ·å</label> <input id="loginUsername" class="form-control" required></div><div class="form-group"><label>å¯†ç </label> <input type="password" id="loginPassword" class="form-control" required></div><button type="submit" class="btn btn-primary">ç™»å½•</button></form></div></div></div><div class="modal user-center-modal" id="userCenterModal"><div class="modal-content"><div class="modal-header"><h3>ä¸ªäººä¸­å¿ƒ</h3><button class="modal-close" onclick="closeUserCenter()">&times;</button></div><div class="modal-body"><div class="user-profile"><div class="user-avatar-container"><img src="{{ global_avatar }}" alt="Avatar" class="user-avatar-image"></div><h3>{{ username }}</h3></div><div class="user-center-menu"><a href="/admin" class="user-center-item"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg> ç®¡ç†åå° </a><button class="user-center-item" onclick="logout()"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> é€€å‡ºç™»å½•</button></div></div></div></div><script>async function loadFriendLinks(){const e=document.getElementById("friendLinksContainer");try{const n=await fetch("/api/friend-links"),t=await n.json();if(t.success&&t.data&&t.data.length>0){e.innerHTML='<div class="friends-grid"></div>';const n=e.querySelector(".friends-grid");t.data.forEach((e,t)=>{const a=document.createElement("div");a.className="friend-card",a.style.opacity="0",a.style.transform="translateY(20px)";const o=e.avatar_url||"/img/avatar.webp",s=e.nickname||"æœªå‘½å",i=e.motto||"",r=e.link_url||"#";a.innerHTML=`\n          <img src="${o}" alt="${s}" class="friend-avatar" loading="lazy" onerror="this.src='/img/avatar.webp'">\n          <div class="friend-info">\n            <h2 class="friend-name">${s}</h2>\n            ${i?`<p class="friend-motto">${i}</p>`:""}\n            <a href="${r}" target="_blank" rel="noopener noreferrer" class="friend-link">\n              è®¿é—®åšå®¢\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>\n                <polyline points="15 3 21 3 21 9"></polyline>\n                <line x1="10" y1="14" x2="21" y2="3"></line>\n              </svg>\n            </a>\n          </div>\n        `,n.appendChild(a),setTimeout(()=>{a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.opacity="1",a.style.transform="translateY(0)"},100*t)})}else e.innerHTML='\n        <div class="empty-state">\n          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">\n            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>\n            <circle cx="9" cy="7" r="4"></circle>\n            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>\n            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>\n          </svg>\n          <p>æš‚æ— å‹é“¾</p>\n          <small>åšä¸»è¿˜æ²¡æœ‰æ·»åŠ å‹é“¾å“¦~</small>\n        </div>\n      '}catch(n){console.error("åŠ è½½å‹é“¾å¤±è´¥:",n),e.innerHTML='\n      <div class="empty-state">\n        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">\n          <circle cx="12" cy="12" r="10"></circle>\n          <line x1="12" y1="8" x2="12" y2="12"></line>\n          <line x1="12" y1="16" x2="12.01" y2="16"></line>\n        </svg>\n        <p>åŠ è½½å¤±è´¥</p>\n        <small>è¯·ç¨åé‡è¯•</small>\n      </div>\n    '}}function openLoginModal(){document.getElementById("loginModal").classList.add("active")}function closeLoginModal(){document.getElementById("loginModal").classList.remove("active")}function openUserCenter(){document.getElementById("userCenterModal").classList.add("active")}function closeUserCenter(){document.getElementById("userCenterModal").classList.remove("active")}async function logout(){try{const e=await fetch("/api/logout",{method:"POST"});(await e.json()).success&&location.reload()}catch(e){console.error("é€€å‡ºç™»å½•å¤±è´¥:",e)}}document.getElementById("loginForm").addEventListener("submit",async e=>{e.preventDefault();const n=document.getElementById("loginUsername").value,t=document.getElementById("loginPassword").value;try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:t})}),a=await e.json();a.success?(closeLoginModal(),location.reload()):alert(a.message||"ç™»å½•å¤±è´¥")}catch(e){alert("ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}});let lastScroll=0;window.addEventListener("scroll",()=>{const e=document.getElementById("navbar"),n=window.pageYOffset;n>lastScroll&&n>100?e.classList.add("hidden"):e.classList.remove("hidden"),lastScroll=n}),document.addEventListener("DOMContentLoaded",()=>{const e="{{ settings.navbar_glass_color }}",n="{{ settings.navbar_text_color }}",t="{{ settings.background_image | safe }}",a="{{ settings.mobile_background_image | safe }}";function o(){const e=window.innerWidth<=768&&a?a:t;e&&(document.body.style.backgroundImage=`url('${e}')`)}document.documentElement.style.setProperty("--navbar-glass-color",e||"rgba(255, 255, 255, 0.85)"),document.documentElement.style.setProperty("--navbar-text-color",n||"rgba(255, 255, 255, 0.9)"),o(),window.addEventListener("resize",o),window.addEventListener("load",()=>{"undefined"!=typeof KeyboardShortcuts&&"function"==typeof KeyboardShortcuts.init&&KeyboardShortcuts.init()}),loadFriendLinks()})</script><footer style="text-align:center;padding:20px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.2);margin-top:auto;position:relative;z-index:1;color:rgba(255,255,255,.9)"><div>&copy; {{ year }} {{ foodes }}</div> {% if beian_enabled %} <div style="margin-top:10px;font-size:.9em"> {% if icp_number %}<a href="http://beian.miit.gov.cn/" target="_blank" style="color:inherit;text-decoration:none">{{ icp_number }}</a>{% endif %} {% if police_record_code %}<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode={{ police_record_code }}" target="_blank" style="color:inherit;text-decoration:none;margin-left:10px"><img src="/img/police.png" alt="" style="height:1em;vertical-align:middle;margin-right:3px">{{ police_record_content }}</a>{% endif %} </div>{% endif %} </footer><script src="/js/keyboard-shortcuts.js" defer></script>