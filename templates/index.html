<!DOCTYPE html><html lang="zh-CN"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,viewport-fit=cover"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)"><meta name="description" content="{{ title }} - æ¢ç´¢æŠ€æœ¯ä¸–ç•Œï¼Œåˆ†äº«ç¼–ç¨‹ç»éªŒï¼Œè®°å½•å­¦ä¹ å†ç¨‹ã€‚ä¸€ä¸ªä¸“æ³¨äºæŠ€æœ¯åšå®¢çš„ä¸ªäººç½‘ç«™ï¼Œæä¾›é«˜è´¨é‡çš„æŠ€æœ¯æ–‡ç« å’Œç¼–ç¨‹èµ„æºã€‚"><title>{{ title }}</title><link rel="icon" href="data:,"><style>*{margin:0;padding:0;box-sizing:border-box}body,html{height:100%;width:100%}body{display:flex;flex-direction:column;min-height:100vh;min-height:-webkit-fill-available;padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);position:relative;background-image:url('{{ settings.background_image | safe }}');background-color: {{ settings.background_color }};background-size: {{ settings.background_size }};background-position: {{ settings.background_position }};background-repeat: {{ settings.background_repeat }};background-attachment: {{ settings.background_attachment }};overflow-x:hidden;--global-opacity: {{ settings.global_opacity }}}nav{display:flex;justify-content:flex-end;align-items:center;position:fixed;top:env(safe-area-inset-top);right:0;padding:15px env(safe-area-inset-right) 15px env(safe-area-inset-left);width:100%;background:var(--navbar-glass-color,rgba(255,255,255,.85));backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);border-bottom:1px solid rgba(255,255,255,.1);z-index:100;box-shadow:0 8px 32px 0 rgba(31,38,135,.15)}nav a{color:var(--navbar-text-color,rgba(255,255,255,.9));text-decoration:none;margin:0 15px;font-weight:500;transition:all .3s ease;position:relative;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);text-shadow:0 2px 4px rgba(0,0,0,.1)}nav button{color:var(--navbar-text-color,rgba(255,255,255,.9));text-decoration:none;margin:0 15px;font-weight:500;transition:all .3s ease;position:relative;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);cursor:pointer}#loginBtn{display:flex;align-items:center;gap:8px;color:var(--navbar-text-color,rgba(255,255,255,.9));text-decoration:none;margin:0 15px;font-weight:500;transition:all .3s ease;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);cursor:pointer;text-shadow:0 2px 4px rgba(0,0,0,.1)}#loginBtn:hover{color:#fff;background:rgba(0,0,0,0);transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2)}#userCenterToggle{display:flex;align-items:center;gap:8px;color:var(--navbar-text-color,rgba(255,255,255,.9));text-decoration:none;margin:0 15px;font-weight:500;transition:all .3s ease;position:relative;padding:8px 16px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255,255,255,.2);text-shadow:0 2px 4px rgba(0,0,0,.1)}#userCenterToggle:hover{color:#fff;background:rgba(0,0,0,0);transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2)}.user-center-modal{max-width:400px}.user-profile{display:flex;flex-direction:column;align-items:center;padding:30px 20px 20px;border-bottom:1px solid rgba(0,0,0,.1)}.user-avatar-container{width:100px;height:100px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,#007bff,#00b894);display:flex;align-items:center;justify-content:center;margin-bottom:15px}.user-avatar-image{width:100%;height:100%;object-fit:cover;border-radius:50%}.user-profile h3{font-size:1.4em;color:#333;font-weight:600}.user-center-menu{padding:20px 0}.user-center-item{display:flex;align-items:center;gap:12px;padding:15px 25px;color:#333;text-decoration:none;transition:all .3s ease;background:0 0;border:none;border-radius:8px;margin:5px 15px;cursor:pointer;font-size:1em;text-align:left}.user-center-item:hover{background:rgba(0,123,255,.1);color:#007bff;transform:translateX(5px)}.user-center-item.logout-item{color:#e74c3c}.user-center-item.logout-item:hover{background:rgba(231,76,60,.1);color:#c0392b}.user-center-menu .divider{height:1px;background:rgba(0,0,0,.1);margin:15px 20px}.user-avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#007bff,#00b894);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:14px}#userCenter{display:flex;position:fixed;top:calc(env(safe-area-inset-top) + 70px);left:20px;background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);z-index:101;min-width:200px;overflow:hidden;animation:slideDown .3s ease}#userCenter.active{display:block}@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.user-center-header{padding:20px;background:linear-gradient(135deg,#007bff,#00b894);color:#fff}.user-center-header h3{font-size:1.2em;margin-bottom:5px}.user-center-header p{font-size:.9em;opacity:.9}.user-center-menu{padding:10px 0}.user-center-menu a{display:block;padding:12px 20px;color:#333;text-decoration:none;transition:all .3s ease;background:0 0;border:none;border-radius:0;text-shadow:none;margin:0}.user-center-menu a:hover{background:rgba(0,123,255,.1);color:#007bff;transform:none;box-shadow:none}.user-center-menu .divider{height:1px;background:rgba(0,0,0,.1);margin:10px 20px}#logoutBtn{display:block;padding:12px 20px;color:#e74c3c;text-decoration:none;transition:all .3s ease;background:0 0;border:none;border-radius:0;text-shadow:none;margin:0;cursor:pointer;width:100%;text-align:left;font-size:1em}#logoutBtn:hover{background:rgba(231,76,60,.1);color:#c0392b;transform:none;box-shadow:none}nav a:hover{color:#fff;background:rgba(0,0,0,0);transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2)}nav a.current{color:#fff;background:rgba(255,255,255,.3);box-shadow:0 4px 12px rgba(0,0,0,.15)}main{flex:1;padding:80px 20px 20px;position:relative;z-index:1;display:flex;flex-direction:column;align-items:center}.title-container{position:relative;display:inline-block;margin:50px 0 40px}.h1{text-align:center;color:rgba(255,255,255,.95);font-size:4em;font-weight:800;text-shadow:0 4px 8px rgba(0,0,0,.3),0 0 20px rgba(255,255,255,.5);letter-spacing:1.5px;line-height:1.1;position:relative;padding:20px 40px;font-family:'Segoe UI','Helvetica Neue',sans-serif;display:inline-block;background:rgba(255,255,255, {{ settings.global_opacity }});backdrop-filter:blur({{ settings.blur_amount }}) saturate({{ settings.saturate_amount }});-webkit-backdrop-filter:blur({{ settings.blur_amount }}) saturate({{ settings.saturate_amount }});border-radius:30px;border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px 0 rgba(31,38,135,.2)}.h1::after{content:'';position:absolute;right:-15px;top:50%;transform:translateY(-50%);width:8px;height:1.2em;background-color:rgba(255,255,255,.9);opacity:.9;box-shadow:0 0 15px rgba(255,255,255,.8),0 0 30px rgba(255,255,255,.4);animation:blink 1s step-end infinite;border-radius:2px}.title-container::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:150px;height:4px;background:linear-gradient(90deg,rgba(255,255,255,.3),rgba(255,255,255,.8),rgba(255,255,255,.3));border-radius:3px;box-shadow:0 2px 8px rgba(0,0,0,.2)}@keyframes blink{0%,50%{opacity:1}100%,51%{opacity:0}}@keyframes strong-blink{0%,45%{opacity:1;transform:translateY(-50%) scaleX(1)}50%,95%{opacity:.2;transform:translateY(-50%) scaleX(.8)}100%{opacity:1;transform:translateY(-50%) scaleX(1)}}.content-card{max-width:800px;margin:0 auto;background:rgba(255,255,255, {{ settings.global_opacity }});backdrop-filter:blur({{ settings.blur_amount }}) saturate({{ settings.saturate_amount }});-webkit-backdrop-filter:blur({{ settings.blur_amount }}) saturate({{ settings.saturate_amount }});padding:40px;border-radius:25px;border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px 0 rgba(31,38,135,.2);position:relative;overflow:hidden}.content-card::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);transform:rotate(45deg);animation:shimmer 3s infinite}@keyframes shimmer{0%{transform:translateX(-100%) rotate(45deg)}100%{transform:translateX(100%) rotate(45deg)}}.content-card p{color:rgba(255,255,255,.95);font-size:1.1em;line-height:1.8;text-shadow:0 2px 4px rgba(0,0,0,.2);position:relative;z-index:1}footer{text-align:center;padding:20px;background:rgba(255,255,255, {{ settings.global_opacity }});backdrop-filter:blur({{ settings.blur_amount }}) saturate({{ settings.saturate_amount }});-webkit-backdrop-filter:blur({{ settings.blur_amount }}) saturate({{ settings.saturate_amount }});border-top:1px solid rgba(255,255,255,.3);margin-top:auto;position:relative;z-index:1;color:rgba(255,255,255,.9);text-shadow:0 2px 4px rgba(0,0,0,.2)}.cursor-example{margin-top:20px;display:flex;flex-direction:column;align-items:center;gap:10px}.navbtn{display:none}.cursor-option{display:inline-flex;align-items:center;gap:10px;padding:10px 15px;background:rgba(0,0,0,0);backdrop-filter:blur(10px);border-radius:12px;cursor:pointer;transition:all .3s ease;border:1px solid rgba(255,255,255,.2);color:rgba(255,255,255,.9)}.cursor-option:hover{background:rgba(0,0,0,0);transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2)}.cursor-preview{display:inline-block;width:8px;height:24px;background-color:rgba(255,255,255,.9);animation:blink 1s step-end infinite;box-shadow:0 0 10px rgba(255,255,255,.5)}.cursor-preview.wide{width:12px}.cursor-preview.extra-wide{width:18px}.admin-only{display:none!important}@media (max-width:768px){nav{padding:10px env(safe-area-inset-right) 10px env(safe-area-inset-left)}nav a,nav button{font-size:0;margin:0 4px;padding:10px;min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%}#loginBtn span:not(:has(svg)),nav a span:not(.shortcut-hint),nav button span:not(.shortcut-hint){display:flex}.shortcuts-help-btn{display:none!important}.shortcut-hint{display:none!important}nav a svg,nav button svg{display:block;font-size:initial}nav a[href="/"]::before{content:'ğŸ ';font-size:18px}nav a[href="/passage"]::before{content:'ğŸ“';font-size:18px}nav a[href="/collect"]::before{content:'ğŸ“';font-size:18px}nav a[href="/about"]::before{content:'â„¹ï¸';font-size:18px}nav a[href="/friends"]::before{content:'ğŸ”—';font-size:18px}nav a[href="/markdown-editor"]::before{content:'âœï¸';font-size:18px}nav a[href="/admin"]::before{content:'âš™ï¸';font-size:18px}#userCenterToggle::before{content:'ğŸ‘¤';font-size:18px}#loginBtn svg{width:20px;height:20px}}</style><link rel="stylesheet" href="/css/modal-animations.css" defer><link rel="stylesheet" href="/css/floating-text.css" defer><nav><button id="userCenterToggle">ä¸ªäººä¸­å¿ƒ<span class="shortcut-hint">5</span></button> <a href="/passage">æ–‡ç« </a> <a href="/collect">å½’æ¡£</a> <a href="/about">å…³äº</a> <a href="/friends">å‹é“¾<span class="shortcut-hint">f</span></a> <a href="/markdown-editor">ç¼–è¾‘å™¨<span class="shortcut-hint">6</span></a> <a class="navbtn admin-only" href="/admin">ç®¡ç†å‘˜è®¾ç½®</a> <button id="loginBtn"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg> ç™»å½•</button></nav><div class="modal" id="userCenterModal"><div class="modal-content user-center-modal"><div class="modal-header"><h3>ä¸ªäººä¸­å¿ƒ</h3><button class="modal-close" data-modal="userCenterModal">Ã—</button></div><div class="modal-body"><div class="user-profile"><div class="user-avatar-container"><img src="{{ global_avatar }}" alt="ç”¨æˆ·å¤´åƒ" class="user-avatar-image" id="userAvatar"></div><h3 id="userCenterUsername">ç”¨æˆ·å</h3></div><div class="user-center-menu"><a href="/admin" class="user-center-item admin-only"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> ç®¡ç†åå° </a><a href="/passage" class="user-center-item"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> æˆ‘çš„æ–‡ç« </a><div class="divider"></div><button id="logoutBtn" class="user-center-item logout-item"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> é€€å‡ºç™»å½•</button></div></div></div></div><main><div class="title-container"><h1 class="h1" id="main-title">{{ name }}</h1></div><div class="content-card"><p>{{ greting }}</div></main><footer style="text-align:center;padding:12px 20px;font-size:.9em"><div style="margin-bottom:4px">&copy; {{ year }} {{ foodes }}</div>{% if beian_enabled %}<div style="font-size:.85em">{% if icp_number %}<a href="http://beian.miit.gov.cn/" target="_blank" style="color:inherit;text-decoration:none">{{ icp_number }}</a>{% endif %} {% if police_record_code %}<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode={{ police_record_code }}" target="_blank" style="color:inherit;text-decoration:none;margin-left:8px">{{ police_record_content }}</a>{% endif %}</div>{% endif %}</footer><div class="modal" id="loginModal"><div class="modal-content"><div class="modal-header"><h3>ç”¨æˆ·ç™»å½•</h3><button class="modal-close" data-modal="loginModal">Ã—</button></div><div class="modal-body"><form id="loginForm"><div class="form-group"><label for="loginUsername">ç”¨æˆ·å</label> <input id="loginUsername" class="form-control" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" required autocomplete="username"></div><div class="form-group"><label for="loginPassword">å¯†ç </label> <input type="password" id="loginPassword" class="form-control" placeholder="è¯·è¾“å…¥å¯†ç " required autocomplete="current-password"></div><div class="form-group" id="loginError" style="display:flex;color:#e74c3c;font-size:.9em"></div><button type="submit" id="loginSubmitBtn" class="btn-primary" style="width:100%">ç™»å½•</button></form><div style="margin-top:20px;text-align:center;font-size:.9em"><a href="#" id="openRegisterModal" style="color:#007bff;text-decoration:none">è¿˜æ²¡æœ‰è´¦å·ï¼Ÿç«‹å³æ³¨å†Œ</a></div></div></div></div><div class="modal" id="registerModal"><div class="modal-content"><div class="modal-header"><h3>ç”¨æˆ·æ³¨å†Œ</h3><button class="modal-close" data-modal="registerModal">Ã—</button></div><div class="modal-body"><form id="registerForm"><div class="form-group"><label for="registerUsername">ç”¨æˆ·å</label> <input id="registerUsername" class="form-control" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆ3-20ä¸ªå­—ç¬¦ï¼Œå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰" required autocomplete="username"></div><div class="form-group"><label for="registerEmail">é‚®ç®±</label> <input type="email" id="registerEmail" class="form-control" placeholder="è¯·è¾“å…¥é‚®ç®±" required autocomplete="email"></div><div class="form-group"><label for="registerPassword">å¯†ç </label> <input type="password" id="registerPassword" class="form-control" placeholder="è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰" required autocomplete="new-password"></div><div class="form-group" id="registerError" style="display:flex;color:#e74c3c;font-size:.9em"></div><button type="submit" id="registerSubmitBtn" class="btn-primary" style="width:100%">æ³¨å†Œ</button></form><div style="margin-top:20px;text-align:center;font-size:.9em"><a href="#" id="openLoginModal" style="color:#007bff;text-decoration:none">å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•</a></div></div></div></div><div class="modal" id="externalLinkModal"><div class="modal-content"><div class="modal-header"><h3>âš ï¸ å¤–éƒ¨é“¾æ¥è­¦å‘Š</h3><button class="modal-close" data-modal="externalLinkModal">Ã—</button></div><div class="modal-body"><p style="color:rgba(255,255,255,.9);margin-bottom:20px">{{ external_link_warning_text }}<div style="background:rgba(0,0,0,.2);padding:15px;border-radius:8px;margin-bottom:20px;word-break:break-all"><p style="font-size:.9em;color:rgba(255,255,255,.7);margin-bottom:5px">ç›®æ ‡é“¾æ¥ï¼š<p id="externalLinkUrl" style="color:#007bff;font-weight:500"></div><div style="display:flex;gap:10px"><button type="button" class="btn-secondary" id="cancelExternalLinkBtn" style="flex:1">ä¸è·³è½¬</button> <button type="button" class="btn-primary" id="proceedExternalLinkBtn" style="flex:1">è·³è½¬</button></div></div></div></div><style>.modal{display:flex;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:1000;justify-content:center;align-items:center;padding:20px;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.modal.active{display:flex;opacity:1;visibility:visible}.modal.closing{opacity:0;visibility:hidden}.modal-content{background:rgba(0,0,0,0);backdrop-filter:blur(40px) saturate(200%);-webkit-backdrop-filter:blur(40px) saturate(200%);border:1px solid rgba(255,255,255,.5);border-radius:20px;box-shadow:0 20px 50px rgba(0,0,0,.2);max-width:500px;width:100%;transform:translateY(-50px) scale(.9);opacity:0;transition:transform .4s cubic-bezier(.34, 1.56, .64, 1),opacity .3s ease;position:relative;overflow:hidden}.modal-content::after{content:'';position:absolute;bottom:0;left:0;height:3px;background:linear-gradient(90deg,#007bff,#00b894);width:0%;transition:width 3s linear}.modal.active .modal-content::after{width:100%}.modal.active .modal-content{transform:translateY(0) scale(1);opacity:1}.modal.closing .modal-content{transform:translateY(30px) scale(.95);opacity:0}.modal-header{background:rgba(0,0,0,0);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,.3);border-bottom:1px solid rgba(255,255,255,.3);padding:20px 30px;color:rgba(255,255,255,.9);border-radius:20px 20px 0 0;display:flex;justify-content:space-between;align-items:center;transform:translateY(-10px);opacity:0;transition:transform .4s ease .1s,opacity .3s ease .1s}.modal.active .modal-header{transform:translateY(0);opacity:1}.modal-header h3{font-size:1.5em;font-weight:600}.modal-close{background:rgba(0,0,0,0);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,.3);color:rgba(255,255,255,.9);font-size:1.5em;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.modal-close:hover{background:rgba(0,0,0,0);border-color:rgba(255,255,255,.5);transform:rotate(90deg)}.modal-body{padding:30px;transform:translateY(10px);opacity:0;transition:transform .4s ease .2s,opacity .3s ease .2s}.modal.active .modal-body{transform:translateY(0);opacity:1}.form-group{margin-bottom:20px;transform:translateY(10px);opacity:0;transition:transform .4s ease .25s,opacity .3s ease .25s}.modal.active .form-group{transform:translateY(0);opacity:1}.form-group:nth-child(2){transition-delay:0.3s}.form-group:nth-child(3){transition-delay:0.35s}.form-group label{display:block;margin-bottom:8px;color:rgba(255,255,255,.9);font-weight:500}.form-control{width:100%;padding:12px 15px;border:1px solid rgba(255,255,255,.3);border-radius:8px;font-size:1em;background:rgba(0,0,0,0);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);color:rgba(255,255,255,.9);transition:all .3s ease}.form-control:focus{outline:0;border-color:rgba(255,255,255,.5);background:rgba(0,0,0,0);box-shadow:0 0 0 3px rgba(255,255,255,.1)}.btn-primary{background:rgba(0,0,0,0);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,.3);color:rgba(255,255,255,.9);padding:12px 30px;border-radius:8px;font-size:1em;font-weight:500;cursor:pointer;transition:all .3s ease;transform:translateY(10px);opacity:0;margin-top:10px}.modal.active .btn-primary{transform:translateY(0);opacity:1;transition:transform .4s ease .4s,opacity .3s ease .4s}.btn-primary:hover{background:rgba(0,0,0,0);border-color:rgba(255,255,255,.5);transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,.2)}.btn-primary:active{transform:translateY(0)}.btn-primary:disabled{opacity:.6;cursor:not-allowed;transform:translateY(0)}.btn-primary:disabled:hover{background:rgba(0,0,0,0);border-color:rgba(255,255,255,.3);transform:translateY(0);box-shadow:none}.user-center-modal .user-profile{transform:translateY(10px);opacity:0;transition:transform .4s ease .2s,opacity .3s ease .2s}.modal.active .user-center-modal .user-profile{transform:translateY(0);opacity:1}.user-center-modal .user-center-menu{transform:translateY(10px);opacity:0;transition:transform .4s ease .3s,opacity .3s ease .3s}.modal.active .user-center-modal .user-center-menu{transform:translateY(0);opacity:1}.user-center-item{transform:translateX(-10px);opacity:0;transition:transform .3s ease,opacity .3s ease}.modal.active .user-center-item{transform:translateX(0);opacity:1}.modal.active .user-center-item:first-child{transition-delay:0.35s}.modal.active .user-center-item:nth-child(2){transition-delay:0.4s}.modal.active .user-center-item:nth-child(3){transition-delay:0.45s}</style><script>function closeModalWithAnimation(e){e&&(e.classList.add("closing"),setTimeout(()=>{e.classList.remove("active","closing")},300))}function closeAllModals(){document.querySelectorAll(".modal.active").forEach(e=>{closeModalWithAnimation(e)})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("userCenterToggle"),t=document.getElementById("userCenterModal"),n=t?t.querySelector(".modal-close"):null;if(e&&t){e.addEventListener("click",function(e){e.stopPropagation(),closeAllModals(),t.classList.add("active")}),n&&n.addEventListener("click",function(){closeModalWithAnimation(t)});const o=t.querySelector(".modal-content");o&&o.addEventListener("click",function(e){e.stopPropagation()}),t.addEventListener("click",function(){closeModalWithAnimation(t)})}document.addEventListener("keydown",function(e){"Escape"===e.key&&closeAllModals()})})</script><script src="/js/ecc-encrypt.js" defer></script><script src="/js/login.js" defer></script><script src="/js/modal-animations.js" defer></script><script src="/js/keyboard-shortcuts.js" defer></script><link rel="stylesheet" href="/css/music-player.css"><script src="/js/music-player.js" defer></script><script>let originalTitle=document.title;const switchNoticeText="{{ switch_notice_text }}",isNoticeEnabled= {{ switch_notice }},isExternalLinkWarningEnabled= {{ external_link_warning }},externalLinkWhitelist="{{ external_link_whitelist }}";document.addEventListener("visibilitychange",function(){isNoticeEnabled&&(document.hidden?document.title=switchNoticeText:document.title=originalTitle)}),window.addEventListener("focus",function(){isNoticeEnabled&&(document.title=originalTitle)});let currentExternalLink="";function showExternalLinkWarning(t){currentExternalLink=t;const e=document.getElementById("externalLinkModal"),n=document.getElementById("externalLinkUrl");e&&n&&(n.textContent=t,e.classList.add("active"))}function hideExternalLinkWarning(){const t=document.getElementById("externalLinkModal");t&&t.classList.remove("active")}function proceedToExternalLink(){currentExternalLink&&window.open(currentExternalLink,"_blank"),hideExternalLinkWarning()}function isWhitelistedDomain(t,e){try{if(t.startsWith("/"))return!0;t.startsWith("//")&&(t=window.location.protocol+t);const n=new URL(t).hostname.toLowerCase();if(n===window.location.hostname)return!0;return e.split(",").map(t=>t.trim().toLowerCase()).some(t=>n===t||n.endsWith("."+t)||n==="www."+t||n.startsWith("www.")&&n.slice(4)===t)}catch(t){return!0}}document.addEventListener("click",function(t){const e=t.target.closest("a");if(!e)return;const n=e.getAttribute("href");n&&(n.startsWith("#")||n.startsWith("mailto:")||n.startsWith("tel:")||n.startsWith("javascript:")||isExternalLinkWarningEnabled&&(isWhitelistedDomain(n,externalLinkWhitelist)||(t.preventDefault(),showExternalLinkWarning(n))))}),document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("cancelExternalLinkBtn"),e=document.getElementById("proceedExternalLinkBtn"),n=document.getElementById("externalLinkModal"),i=n?n.querySelector(".modal-close"):null;t&&t.addEventListener("click",hideExternalLinkWarning),e&&e.addEventListener("click",proceedToExternalLink),i&&i.addEventListener("click",hideExternalLinkWarning),n&&n.addEventListener("click",function(t){t.target===n&&hideExternalLinkWarning()})})</script><style>#waifu{position:fixed!important;right:0!important;bottom:0!important;z-index:9999!important;pointer-events:auto!important}#waifu-tool{display:none!important;position:fixed!important;right:0!important;bottom:0!important;z-index:9999!important}.waifu-tips{position:fixed!important;z-index:9999!important}.waifu{position:fixed!important;right:0!important;bottom:0!important;z-index:9999!important}</style><link rel="stylesheet" href="/css/dark-mode.css"><link rel="stylesheet" href="/css/glass-effect.css"><link rel="stylesheet" href="/css/keyboard-shortcuts.css"><script>fetch("/api/settings/appearance").then(e=>e.json()).then(e=>{function o(){const o=window.innerWidth<=768&&e.mobile_background_image?e.mobile_background_image:e.background_image;o&&(document.body.style.backgroundImage=`url('${o}')`)}localStorage.setItem("appearanceSettings",JSON.stringify(e)),e.dark_mode_enabled&&document.documentElement.classList.add("dark-mode"),(e.navbar_glass_color||e.card_glass_color||e.footer_glass_color||e.navbar_text_color)&&(document.documentElement.style.setProperty("--navbar-glass-color",e.navbar_glass_color||"rgba(255, 255, 255, 0.85)"),document.documentElement.style.setProperty("--navbar-text-color",e.navbar_text_color||"rgba(255, 255, 255, 0.9)"),document.documentElement.style.setProperty("--card-glass-color",e.card_glass_color||"rgba(255, 255, 255, 0.75)"),document.documentElement.style.setProperty("--footer-glass-color",e.footer_glass_color||"rgba(255, 255, 255, 0.9)")),o(),window.addEventListener("resize",o)}).catch(e=>{console.error("åŠ è½½å¤–è§‚è®¾ç½®å¤±è´¥:",e)})</script><script>!function(){const i= {{ live2d_enabled }},d= {{ live2d_show_on_index }};if(!i||!d)return;const t={waifuPath:"https://fastly.jsdelivr.net/npm/live2d-widget@1.0.0/dist/waifu-tips.json",cdnPath:"{{ live2d_cdn_path }}",cubism2Path:"https://fastly.jsdelivr.net/npm/live2d-widget@1.0.0/dist/live2d.min.js",cubism5Path:"https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js",modelId: {{ live2d_model_id }},modelPath:"{{ live2d_model_path }}",tools:["switch-model","switch-texture","photo","info","quit"],drag:!0,logLevel:"error",position:"{{ live2d_position }}",width:"{{ live2d_width }}",height:"{{ live2d_height }}"};window.addEventListener("load",function(){setTimeout(function(){try{if(document.querySelector('script[src*="autoload.js"]'))return;const i=document.createElement("script");i.src="https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/autoload.js",i.async=!0,i.onload=function(){if(console.log("Live2D çœ‹æ¿å¨˜åŠ è½½å®Œæˆ"),"function"==typeof initWidget)try{initWidget(t)}catch(i){console.warn("Live2D çœ‹æ¿å¨˜åˆå§‹åŒ–å¤±è´¥:",i)}},i.onerror=function(){console.warn("Live2D çœ‹æ¿å¨˜åŠ è½½å¤±è´¥ï¼Œå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ– CDN ä¸å¯ç”¨")},document.body.appendChild(i)}catch(i){console.warn("Live2D çœ‹æ¿å¨˜åˆå§‹åŒ–é”™è¯¯:",i)}},1e3)})}()</script><link rel="stylesheet" href="/css/music-player.css" media="print" onload='this.media="all"'><script src="/js/floating-text.js" defer></script>