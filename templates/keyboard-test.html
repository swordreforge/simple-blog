<!DOCTYPE html><html lang="zh-CN"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>键盘快捷键测试</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:50px auto;padding:20px}h1{color:#333}.test-section{margin:20px 0;padding:15px;border:1px solid #ddd;border-radius:5px}.key-display{font-size:24px;font-weight:700;color:#007bff;margin:10px 0}.log{background:#f5f5f5;padding:10px;border-radius:3px;max-height:300px;overflow-y:auto;font-family:monospace;font-size:12px}.log-entry{margin:5px 0;padding:5px;border-bottom:1px solid #eee}.success{color:green}.error{color:red}.info{color:#00f}</style><h1>键盘快捷键测试</h1><div class="test-section"><h2>按键测试</h2><p>请按以下键测试快捷键功能：<ul><li><strong>1</strong> - 跳转到主页<li><strong>2</strong> - 跳转到文章页<li><strong>3</strong> - 跳转到归档页<li><strong>4</strong> - 跳转到关于页<li><strong>5</strong> - 打开个人中心<li><strong>6</strong> - 跳转到编辑器<li><strong>l</strong> - 打开登录<li><strong>Escape</strong> - 关闭模态框</ul></div><div class="test-section"><h2>当前按键</h2><div class="key-display" id="keyDisplay">等待按键...</div><div><strong>key:</strong> <span id="keyValue">-</span><br><strong>keyCode:</strong> <span id="keyCodeValue">-</span><br><strong>code:</strong> <span id="codeValue">-</span></div></div><div class="test-section"><h2>日志</h2><div class="log" id="log"></div></div><script>const log=document.getElementById("log"),keyDisplay=document.getElementById("keyDisplay"),keyValue=document.getElementById("keyValue"),keyCodeValue=document.getElementById("keyCodeValue"),codeValue=document.getElementById("codeValue"),shortcuts={1:{action:"navigate",url:"/",label:"主页"},2:{action:"navigate",url:"/passage",label:"文章"},3:{action:"navigate",url:"/collect",label:"归档"},4:{action:"navigate",url:"/about",label:"关于"},5:{action:"openModal",modalId:"userCenterModal",label:"个人中心"},6:{action:"navigate",url:"/markdown-editor",label:"编辑器"},l:{action:"openModal",modalId:"loginModal",label:"登录"},Escape:{action:"closeAllModals",label:"关闭模态框"}},keyCodeMap={49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",76:"l"};function addLog(e,o="info"){const t=document.createElement("div");t.className=`log-entry ${o}`,t.textContent=`[${(new Date).toLocaleTimeString()}] ${e}`,log.appendChild(t),log.scrollTop=log.scrollHeight,console.log(e)}document.addEventListener("keydown",e=>{keyDisplay.textContent=e.key,keyValue.textContent=e.key,keyCodeValue.textContent=e.keyCode,codeValue.textContent=e.code,addLog(`按键事件: key="${e.key}", keyCode=${e.keyCode}, code="${e.code}"`);let o=null;if(shortcuts[e.key])o=shortcuts[e.key],addLog(`通过 e.key 找到快捷键: ${e.key}`,"success");else{const t=keyCodeMap[e.keyCode];t&&shortcuts[t]&&(o=shortcuts[t],addLog(`通过 keyCode 找到快捷键: ${t} (keyCode: ${e.keyCode})`,"success"))}o?(e.preventDefault(),e.stopPropagation(),addLog(`执行快捷键操作: ${o.label} - ${o.action}`,"success"),"navigate"===o.action?(addLog(`准备跳转到: ${o.url}`,"info"),addLog(`[模拟] 已跳转到: ${o.url}`,"success")):"openModal"===o.action?addLog(`[模拟] 打开模态框: ${o.modalId}`,"success"):"closeAllModals"===o.action&&addLog("[模拟] 关闭所有模态框","success")):addLog("未找到对应的快捷键","error")}),addLog("键盘快捷键测试已启动，请按任意键测试...","info")</script>